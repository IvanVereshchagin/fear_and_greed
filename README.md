# Сервис прогнозирования индекса страха и жадности

Этот проект представляет собой сервис для прогнозирования индекса страха и жадности на финансовом рынке, с последующей категоризацией прогноза.  Сервис использует модели машинного обучения для анализа различных финансовых данных и предоставления прогнозов пользователям.

## Функциональность:

* **Регистрация пользователей:**  Пользователи могут зарегистрироваться, создавая учетные записи.
* **Пополнение баланса:**  Пользователи могут пополнять свой баланс, чтобы оплачивать прогнозы.
* **Прогнозирование индекса:**  Пользователи могут запрашивать прогнозы индекса страха и жадности, предоставляя необходимые входные данные.  Система возвращает предсказанное числовое значение индекса.
* **История транзакций и прогнозов:**  Пользователи могут просматривать свою историю транзакций и полученных прогнозов.

## Архитектура:

Сервис разработан с использованием принципов объектно-ориентированного программирования (ООП):

* **Пользователи (`User`):**  Представлены классом `User`, который хранит информацию о пользователе и его балансе.
* **Модели машинного обучения (`Model`):**  Представлены классом `Model`.  Это позволяет легко расширять функционал за счет добавления других моделей.
* **Транзакции (`Transaction`):**  Все финансовые операции (пополнение баланса, оплата прогнозов) записываются в историю транзакций.
* **Прогнозы (`PredictionHistory`):**  История прогнозов хранит информацию о запросах пользователей, предсказанных значениях индекса, их категориях и времени запроса.
* **Задачи обучения (`MLTask`):**  Представляет собой структуру данных для обучения ML-модели.


# Запуска

Для запуска проекта необходимо скачать репозиторий и запустить сборку контейнеров при помощи команды docker-compose up, находясь в репозитории проекта.
Необходимо наличие Docker.
После сборки в Docker появится 6 контейнеров: 
* app (FastAPI сервис)
* db (Postgres БД)
* rabbitmq (Брокер сообщений)
*  ml_worker (Consumer обрабатывающий предикт-задачи пользователей)
*  Web-Proxy (nginx)
*  Streamlit (Визуальная часть сервиса)


Предикт индекса можно получить используя endpoint user/predict либо используя контейнер streamlit



